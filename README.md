<div dir="rtl">

# 🔤 Hebrew Font Maker

**יוצר פונטים עברית מתמונות AI**

תוכנה שמזהה אוטומטית אותיות עבריות מתמונה (למשל תמונה שנוצרה ב-AI), מאפשרת לשייך כל צורה לאות, לכוונן גודל ומיקום, ולייצר קובץ TTF אמיתי שניתן להתקין ולהשתמש בו בכל תוכנה.

---

## ✨ תכונות

- **זיהוי אוטומטי של אותיות** — מעלים תמונה והמערכת מזהה את כל הצורות בנפרד
- **שיוך אותיות במקלדת** — לחיצה על כרטיס + הקלדת אות = שיוך מיידי עם מעבר אוטומטי
- **מיזוג ופיצול** — אפשרות למזג צורות שזוהו בנפרד (כמו נקודה + גוף של ! או ?) ולפצל צורות שזוהו ביחד בטעות
- **תצוגה מקדימה חיה** — הקלדת טקסט ותצוגה מיידית של איך הפונט ייראה
- **כוונון לכל אות** — שליטה על גודל (Scale), הזזה אנכית ואופקית לכל תו
- **כוונון גלובלי** — החלת הגדרות על כל האותיות במכה אחת
- **תמיכה באותיות סופיות** — ך, ם, ן, ף, ץ — כולל ירידה אוטומטית מתחת לקו הבסיס
- **עקומות Bézier חלקות** — הפונט נוצר עם עקומות קוואדרטיות (לא קווים ישרים) לתוצאה חלקה ומקצועית
- **תמיכה בחורים** — אותיות כמו ב, ד, ה, ם, ס שומרות על החללים הפנימיים שלהן
- **פונט TTF תקין** — הקובץ שנוצר עובר ולידציה ומתקין ב-Windows ללא בעיות

---

## 📸 צילומי מסך

<div dir="ltr">

| העלאה וזיהוי | שיוך אותיות | תצוגה מקדימה | יצירת פונט |
|:---:|:---:|:---:|:---:|
| שלב 1 | שלב 2 | שלב 3 | שלב 4 |

</div>

---

## 🚀 התקנה

### דרישות מוקדמות
- Python 3.8 ומעלה
- Windows (נבדק על Windows 10/11)

### שלבים

```bash
# 1. שכפול הריפו
git clone https://github.com/YOUR_USERNAME/hebrew-font-maker.git
cd hebrew-font-maker

# 2. התקנה (יוצר venv אוטומטית ומתקין חבילות)
install.bat

# 3. הפעלה (פותח דפדפן אוטומטית)
run.bat
```

לאחר ההפעלה, הדפדפן ייפתח אוטומטית בכתובת `http://127.0.0.1:5000`.

---

## 📖 שימוש

### שלב 1 — העלאת תמונה
העלו תמונה המכילה אותיות (למשל פלט של מודל AI שיצר פונט עברי).
המערכת תזהה אוטומטית את כל הצורות בתמונה.

### שלב 2 — שיוך אותיות
- לחצו על כרטיס של צורה שזוהתה
- הקלידו את האות המתאימה במקלדת
- המערכת עוברת אוטומטית לכרטיס הבא
- **Delete** = מחיקת שיוך | **Esc** = ביטול בחירה

#### מיזוג ופיצול
- **מיזוג:** כשנקודה (של ! או ?) זוהתה בנפרד — לחצו "מצב מיזוג/פיצול", בחרו 2+ כרטיסים ולחצו "מזג"
- **פיצול:** כששתי אותיות זוהו ביחד — בחרו כרטיס אחד ולחצו "פצל"

### שלב 3 — תצוגה מקדימה וכוונון
- הקלידו טקסט בשדה ותראו תצוגה מקדימה חיה
- לחצו על אות בתצוגה כדי לכוונן: גודל, הזזה אנכית, הזזה אופקית
- **"החל על הכל"** — מחיל את אותן ההגדרות על כל האותיות

### שלב 4 — יצירת פונט
- בחרו שם לפונט
- לחצו "צור פונט"
- הקובץ נשמר בתיקיית `fonts_output/`
- לחצו "פתח תיקיית פונטים" לגישה ישירה

---

## 🏗️ מבנה הפרויקט

```
hebrew-font-maker/
├── backend/
│   ├── app.py              # שרת Flask + כל ה-API endpoints
│   ├── image_processor.py  # זיהוי אותיות, חילוץ קונטורים, מיזוג פרגמנטים
│   ├── font_generator.py   # יצירת TTF עם עקומות Bézier קוואדרטיות
│   └── hebrew_support.py   # מילון אותיות, צורות סופיות, תמיכה RTL
├── frontend/
│   ├── index.html          # ממשק 4-שלבי (wizard)
│   ├── script.js           # לוגיקת UI: שיוך, מיזוג, תצוגה מקדימה, כוונון
│   └── style.css           # עיצוב responsive עם תמיכה ב-RTL
├── config.py               # הגדרות (גודל פונט, סינון, נתיבים)
├── requirements.txt        # חבילות Python
├── install.bat             # סקריפט התקנה (venv + pip)
├── run.bat                 # סקריפט הפעלה
├── fonts_output/           # תיקיית פלט לפונטים שנוצרו
└── temp/                   # קבצים זמניים (uploads)
```

---

## 🔧 טכנולוגיות

| רכיב | טכנולוגיה |
|---|---|
| שרת | Flask 2.3 + Flask-CORS |
| עיבוד תמונה | OpenCV 4.8 (Otsu, RETR_CCOMP, connected components) |
| יצירת פונטים | fontTools (FontBuilder, TTGlyphPen, quadratic B-splines) |
| צד לקוח | Vanilla HTML/CSS/JS (ללא frameworks) |
| סביבה | Python venv, Windows batch scripts |

---

## 📝 הערות טכניות

- **אותיות סופיות (ך ם ן ף ץ):** האות ק ואותיות סופיות עם זנב (`ף`, `ץ`, `ן`, `ך`, `ק`) מקבלות הזזה אוטומטית של -200 יחידות מתחת לקו הבסיס
- **חורים באותיות:** המערכת משתמשת ב-`RETR_CCOMP` כדי לזהות קונטורים חיצוניים ופנימיים (חורים) בנפרד
- **עקומות חלקות:** במקום קווים ישרים (`lineTo`), הפונט משתמש בעקומות קוואדרטיות (`qCurveTo`) — B-spline שבו כל הנקודות הן נקודות בקרה, ונקודות האמצע ביניהן הן on-curve
- **חילוץ נאמן:** קונטורים מחולצים מהתמונה המקורית (לא מהתמונה המעובדת) כדי לשמור על צורת האותיות כפי שעוצבו

---

## 📄 רישיון

MIT License

</div>
